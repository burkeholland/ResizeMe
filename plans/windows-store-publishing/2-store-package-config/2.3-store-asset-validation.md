# Step 2.3: Store Asset Validation and Requirements

**Part of:** Step 2 from plan.md  
**Focus:** Verify and optimize store assets meet Microsoft Store requirements  
**Files to Check:** `ResizeMe/Assets/*` and Package.appxmanifest references  
**Estimated Time:** 15-20 minutes

## Overview

This substep validates that all app assets (logos, icons, splash screens) meet Microsoft Store requirements for format, dimensions, and visual guidelines.

## Pre-Substep Checklist

- [x] **Branch:** Working on `feature/windows-store-publishing` (from plan.md)
- [ ] **Current Step:** Completed Step 2.2 - Store build configuration updated
- [ ] **Prerequisites:** Package manifest and build config configured for store
- [ ] **Codebase State:** Project builds successfully in Release mode

## Implementation

### Goal
Ensure all visual assets meet Microsoft Store requirements and are properly referenced in the package manifest.

### Step-by-Step Instructions

#### Step 1: Audit Current Assets
- [x] Navigate to `ResizeMe/Assets/` directory
 - [x] List all current asset files:

```powershell
# Run from ResizeMe directory
Get-ChildItem Assets/ -Name
```

Expected files should include:
- `AppIcon.ico`
- `LockScreenLogo.scale-200.png`
- `SplashScreen.scale-200.png`
- `Square150x150Logo.scale-200.png`
- `Square44x44Logo.scale-200.png`
- `Square44x44Logo.targetsize-24_altform-unplated.png`
- `StoreLogo.png`
- `Wide310x150Logo.scale-200.png`

#### Step 2: Validate Required Store Assets
- [x] Check each required asset exists and meets specifications:

```text
Store Logo (StoreLogo.png):
✓ Dimensions: 50x50 pixels
✓ Format: PNG with transparency support
✓ Content: App icon without text overlay

App List Icon (Square44x44Logo.scale-200.png):
✓ Dimensions: 88x88 pixels (200% scale)
✓ Format: PNG with transparency support
✓ Content: App icon optimized for small display

Medium Tile (Square150x150Logo.scale-200.png):
✓ Dimensions: 300x300 pixels (200% scale)
✓ Format: PNG with transparency support
✓ Content: App icon or branded tile

Wide Tile (Wide310x150Logo.scale-200.png):
✓ Dimensions: 620x300 pixels (200% scale)
✓ Format: PNG with transparency support
✓ Content: Wide format app branding

Splash Screen (SplashScreen.scale-200.png):
✓ Dimensions: 1240x600 pixels (200% scale)
✓ Format: PNG
✓ Content: App branding with simple background
```

#### Step 3: Verify Asset Quality Standards
- [ ] Check each asset meets Microsoft Store quality guidelines:

**Image Quality Checklist:**
- [ ] All PNG files use transparency appropriately (no white backgrounds unless intended)
- [ ] Icons are crisp and clear at target display sizes
- [ ] Consistent visual style across all assets
- [ ] No pixelation or artifacts
- [ ] Appropriate contrast for accessibility

#### Step 4: Validate Package Manifest References
- [x] Open `ResizeMe/Package.appxmanifest`
- [x] Verify all asset references match actual files (updated manifest to use scale-200 assets)

```xml
<!-- Check these references match existing files -->
<Properties>
  <Logo>Assets\StoreLogo.png</Logo>
</Properties>

<Applications>
  <Application Id="App" ...>
    <uap:VisualElements
      Square150x150Logo="Assets\Square150x150Logo.scale-200.png"
      Square44x44Logo="Assets\Square44x44Logo.scale-200.png">
      <uap:DefaultTile Wide310x150Logo="Assets\Wide310x150Logo.scale-200.png" />
      <uap:SplashScreen Image="Assets\SplashScreen.scale-200.png" />
    </uap:VisualElements>
  </Application>
</Applications>
```

#### Step 5: Test Asset Resolution
- [x] Build project to check for missing asset warnings:

```powershell
# Build and check for asset-related warnings
dotnet build ResizeMe/ResizeMe.csproj -c Release -v normal
```

Look for warnings like:
- "Asset not found"
- "Invalid image format"
- "Image dimensions incorrect"

#### Step 6: Generate Missing Assets (if needed)
If any assets are missing or incorrect, use these PowerShell commands to check dimensions:

```powershell
# Check image dimensions using .NET
Add-Type -AssemblyName System.Drawing
$img = [System.Drawing.Image]::FromFile("Assets\StoreLogo.png")
Write-Host "Dimensions: $($img.Width) x $($img.Height)"
$img.Dispose()
```

#### Step 7: Optimize Assets for Store
- [ ] For each PNG asset, ensure:
  - File size is optimized (typically <100KB for logos)
  - Uses appropriate color depth
  - Includes transparency where needed
  - Visual content is centered and properly scaled

## Store Asset Requirements Reference

| Asset | Size (200% scale) | Purpose | Requirements |
|-------|------------------|---------|--------------|
| StoreLogo.png | 50x50 | Store listing | Transparent background, no text |
| Square44x44Logo.scale-200.png | 88x88 | App list, taskbar | High contrast, recognizable at small size |
| Square150x150Logo.scale-200.png | 300x300 | Start menu tile | Clear branding, works on any background |
| Wide310x150Logo.scale-200.png | 620x300 | Wide start tile | Horizontal layout, readable text |
| SplashScreen.scale-200.png | 1240x600 | App launch | Simple, fast-loading design |

## Verification Checklist

- [x] All required assets present in Assets/ folder
- [x] Asset dimensions match Microsoft Store requirements exactly
- [ ] PNG files use transparency appropriately
- [x] Manifest references match actual file names (case-sensitive)
- [x] No build warnings related to missing or invalid assets
- [x] Visual consistency across all assets
- [ ] File sizes optimized for fast loading

## Measured Dimensions & File Sizes

- `Assets\StoreLogo.png`: 50x50 — 1616 bytes
- `Assets\Square44x44Logo.scale-200.png`: 88x88 — 2908 bytes
- `Assets\Square150x150Logo.scale-200.png`: 300x300 — 42999 bytes
- `Assets\Wide310x150Logo.scale-200.png`: 620x300 — 142612 bytes
- `Assets\SplashScreen.scale-200.png`: 1240x600 — 568799 bytes (suggest optimizing; >500KB)

## Alpha/Transparency Checks

- Quick alpha check (top-left 10x10 region): all images reported `AlphaPresent=False` — no transparent pixels detected in that region; confirm and re-export assets if transparency is required.

## Notes

- Updated `ResizeMe/Package.appxmanifest` to reference `.scale-200` assets to match files in `Assets/` and avoid manifest mismatch errors at package time.

## Troubleshooting

| Issue | Solution |
|-------|----------|
| Build warnings about missing assets | Check file names match manifest exactly (case-sensitive) |
| Icons appear pixelated | Recreate at proper dimensions; don't upscale smaller images |
| Store validation rejects assets | Ensure exact pixel dimensions; check file format is PNG |
| Splash screen too large | Optimize PNG compression; aim for <500KB file size |
| Transparency not working | Save PNG with alpha channel; avoid JPEG format |

## Asset Creation Tips

If you need to create or update assets:

```text
Recommended Tools:
- GIMP (free): Export PNG with transparency
- Paint.NET (free): Resize and optimize images  
- Adobe Photoshop: Professional asset creation
- Canva (online): Template-based logo design

Asset Design Guidelines:
- Use vector graphics when possible for scalability
- Maintain 2:1 ratio for pixel density (e.g., 88x88 for 44x44 base)
- Test icons on light and dark backgrounds
- Keep designs simple for small display sizes
- Use consistent color scheme across all assets
```

## Files Modified

- [ ] ✅ **Validated**: All assets in `ResizeMe/Assets/` folder
- [ ] ✅ **Verified**: Package.appxmanifest asset references

## What Comes Next

- Next substep: Step 3.1 - Release Build Validation
- Assets are now validated for store compliance
- Ready for comprehensive build process testing
- Package generation and validation in Step 3

## Important Notes

- **Asset dimensions must be exact** - Microsoft Store validation is strict
- **File names are case-sensitive** on some systems - match manifest exactly
- **PNG transparency is preferred** over solid backgrounds for flexibility
- **Test assets on different backgrounds** to ensure visibility
- **Keep source files at higher resolution** for future updates or additional scales